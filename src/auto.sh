#!/bin/bash

# –°–∫—Ä–∏–ø—Ç –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π –∫–æ–º–ø–∏–ª—è—Ü–∏–∏ –∏ –∑–∞–ø—É—Å–∫–∞ –ø—Ä–æ–≥—Ä–∞–º–º—ã —Å –∫–æ–º–∞–Ω–¥–Ω—ã–º —Ñ–∞–π–ª–æ–º

# 1. –ö–æ–º–ø–∏–ª—è—Ü–∏—è –ø—Ä–æ–≥—Ä–∞–º–º—ã
echo "üîß –ö–æ–º–ø–∏–ª—è—Ü–∏—è copy11.cpp..."
g++ -std=c++17 copy11.cpp -o terrain_navigator

if [ $? -ne 0 ]; then
    echo "‚ùå –û—à–∏–±–∫–∞ –∫–æ–º–ø–∏–ª—è—Ü–∏–∏!"
    exit 1
fi

# 2. –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—É—â–µ—Å—Ç–≤–æ–≤–∞–Ω–∏—è –∫–æ–º–∞–Ω–¥–Ω–æ–≥–æ —Ñ–∞–π–ª–∞
COMMAND_FILE="commands.txt"
if [ ! -f "$COMMAND_FILE" ]; then
    echo "‚ùå –§–∞–π–ª –∫–æ–º–∞–Ω–¥ $COMMAND_FILE –Ω–µ –Ω–∞–π–¥–µ–Ω!"
    exit 1
fi

# 3. –ó–∞–ø—É—Å–∫ –ø—Ä–æ–≥—Ä–∞–º–º—ã
echo "üöÄ –ó–∞–ø—É—Å–∫ –ø—Ä–æ–≥—Ä–∞–º–º—ã —Å –∫–æ–º–∞–Ω–¥–Ω—ã–º —Ñ–∞–π–ª–æ–º..."
echo -e "0\n$COMMAND_FILE" | ./terrain_navigator

# 4. –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è
if [ $? -eq 0 ]; then
    echo "‚úÖ –ü—Ä–æ–≥—Ä–∞–º–º–∞ —É—Å–ø–µ—à–Ω–æ –∑–∞–≤–µ—Ä—à–µ–Ω–∞"
    echo "üìÅ –†–µ–∑—É–ª—å—Ç–∞—Ç—ã —Å–æ—Ö—Ä–∞–Ω–µ–Ω—ã –≤ –ø–∞–ø–∫–µ Result/"
else
    echo "‚ùå –ü—Ä–æ–≥—Ä–∞–º–º–∞ –∑–∞–≤–µ—Ä—à–∏–ª–∞—Å—å —Å –æ—à–∏–±–∫–æ–π"
fi
